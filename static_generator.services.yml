services:

  cache.static_generator:
    class: Drupal\Core\Cache\CacheBackendInterface
    tags:
      - { name: cache.bin }
    factory: cache_factory:get
    arguments: [static_generator]

  static_generator:
    class: Drupal\static_generator\StaticGenerator
    tags:
      - { name: static_generator, priority: 200 }
      - { name: event_subscriber }
    arguments: ['@cache.static_generator', '@renderer', '@current_route_match', '@class_resolver','%main_content_renderers%', '@request_stack']

